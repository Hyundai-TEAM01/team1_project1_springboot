<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{common/layout::setContent(~{this::content})}">
<th:block th:fragment="content">
	<div class="card m-2">
		<div class="card-header">
			Spring Security
		</div>
		<div class="card-body">
			<div>
				<div sec:authorize="!isAuthenticated()">
					<a href="joinForm" class="btn btn-sm btn-info">회원가입</a>
					<a href="loginForm" class="btn btn-sm btn-info">로그인</a>
				</div>
				<div sec:authorize="isAuthenticated()">
					<a th:href="@{/logout}" class="btn btn-sm btn-info">로그아웃</a>
					<hr/>
					<div>User : [[${#authentication.name}]]</div>
					<div>Role : [[${#authentication.authorities}]]</div>
					<div>Role : [[${#authentication.principal.authorities}]]</div>
					<div>Email : [[${#authentication.principal.useremail}]]</div>
					<hr/>
					<div>
						<div sec:authorize="hasRole('ROLE_ADMIN')">ADMIN</div>
						<div sec:authorize="hasRole('ROLE_MANAGER')">MANAGER</div>
						<div sec:authorize="hasRole('ROLE_USER')">USER</div>
					</div>
				</div>
			</div>
			<hr/>
			<div>
	        	<a href="admin/action" class="btn btn-info btn-sm">Admin 액션</a>   
	        	<a href="manager/action" class="btn btn-info btn-sm">Manager 액션</a>
	        	<a href="user/action" class="btn btn-info btn-sm">User 액션</a>
	    	</div>
		</div>
	</div>
</th:block>
</th:block>
</html>